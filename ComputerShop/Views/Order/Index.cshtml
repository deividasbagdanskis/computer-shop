@model IEnumerable<ComputerShop.Models.Order>

@{
  ViewData["Title"] = "Index";
}

<h1 class="my-2">Orders</h1>
@foreach (var item in Model)
{
  <h3 class="mt-3 mb-3 pb-2 border-bottom">@item.CreationDate.ToString()</h3>

  <div class="table-responsive">
    <table class="table mb-3">
      <thead>
        <tr>
          <th>

          </th>
          <th class="text-center">
            @Html.DisplayNameFor(modelItem => item.CartItems[0].Name)
          </th>
          <th class="text-center">
            @Html.DisplayNameFor(modelItem => item.CartItems[0].Price)
          </th>
          <th class="text-center">
            @Html.DisplayNameFor(modelItem => item.CartItems[0].Quantity)
          </th>
          <th class="text-center">
            @Html.DisplayNameFor(modelItem => item.CartItems[0].Total)
          </th>
        </tr>
      </thead>
      <tbody>
        @foreach (var cartItem in item.CartItems)
        {
          <tr>
            <td class="text-center">
              <img src="@Url.Content($"~/images/{cartItem.Image}")" style="width: 70px;" />
            </td>
            <td class="text-center">
              @Html.DisplayFor(modelItem => cartItem.Name)
            </td>
            <td class="text-center">
              @Html.DisplayFor(modelItem => cartItem.Price) &euro;
            </td>
            <td class="text-center">
              @Html.DisplayFor(modelItem => cartItem.Quantity)
            </td>
            <td class="text-center">
              @Html.DisplayFor(modelItem => cartItem.Total) &euro;
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
  <div class="row justify-content-between">
    <div class="col-4">
      <h4>Status: @item.Status.ToString()</h4>
    </div>
    <div class="col-4 text-right">
      <h4>Total: @item.Total &euro;</h4>
    </div>
  </div>

}
